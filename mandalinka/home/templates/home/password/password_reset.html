{% extends 'home/login_layout.html' %}

{% block title %}
	Zabudli ste heslo?
{% endblock %}

{% block body %}

	{% load crispy_forms_tags %}          

	<!--Reset Password-->
	<form method="POST" class="frm needs-validation" novalidate>
		{% csrf_token %}
		<div class="row g-3">

			<div class="col-sm-8">
				
				<label class="visually-hidden" for="{{ password_reset_form.email.id_for_label }}">
					Zadajte email
				</label>

				{{ password_reset_form.email }} 

				<div class="invalid-feedback ps-2">
					Neregistrujeme užívatela s danou emailovou adresou. Zadajte správnu emailovú adresu, 
					alebo si vytvorte účet 
					<a href="{% url 'home:new_user' %}" class="">tu</a> 
				</div>

			</div>
			<div class="col-sm-4">
				<button type="submit" class="btn btn-primary bg-gradient w-100 rounded-2 shadow">
					Submit
				</button>
			</div>
		</div>
	</form>

	<script>        // Code for validation
		(() => {
			'use strict'
	
			// Fetch all the forms we want to apply custom Bootstrap validation styles to
			const forms = document.querySelectorAll('.needs-validation')
	
			// Loop over them and prevent submission
			Array.from(forms).forEach(form => {
				form.addEventListener('submit', event => {
					if (!form.checkValidity()) {
						event.preventDefault()
						event.stopPropagation()
					}
	
					form.classList.add('was-validated')
				}, false)
			})
		})()
	
	</script>

{% endblock %}